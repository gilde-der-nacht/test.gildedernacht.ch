<!doctype html><html lang=de><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Gilde der Nacht | Live Chat</title><meta name=generator content="Hugo 0.84.1"><link rel=stylesheet href=/sass/main.min.b2f6a5018ca376af91cc10fcfa96855ac4c7c11f8e2139b02de5761166c495ca.css media=screen integrity="sha256-svalAYyjdq+RzBD8+paFWsTHwR+OITmwLeV2EWbElco="><script src=https://kit.fontawesome.com/ed5a2d737b.js crossorigin=anonymous></script></head><body><header><div id=p-meta-nav><div class=o-outer-container><div id=p-site-switcher class=brand-icon><a href=/><object type=image/svg+xml data=/images/branding/logo.svg height=40>
Gilde der Nacht</object></a></div><div id=p-language><ul><li>Deutsch</li></ul></div></div></div><div id=p-page-nav><div class=o-outer-container><div id=p-site-brand><a href=/><object type=image/svg+xml data=/images/branding/wordmark.svg height=40>
Gilde der Nacht</object></a></div><input type=checkbox id=p-site-nav-toggle><nav id=p-site-nav><ul><li><a href=/>Startseite</a></li><li><a href=/events/>Anlässe</a></li><li><a href=/verein/>Verein</a></li><li><a href=/kontakt/>Kontakt</a></li></ul></nav><label for=p-site-nav-toggle id=p-site-nav-toggle-label><span></span></label></div></div></header><div class="c-jumbotron o-outer-container"><h1>Live Chat</h1></div><main class=o-inner-container><p>Hier kannst du dich direkt mit uns austauschen.</p><p>Sollte innert weniger Minuten niemand antworten, ist wohl niemand von uns online. Sende uns in diesem Fall eine Nachricht per <a href=https://test.gildedernacht.ch/kontakt/>Kontaktformular</a>.</p><h2>Nachrichtenverlauf</h2><ul id=hermes-history><li class=hermes-message-type-placeholder><p>Bisher keine Nachrichten</p></li></ul><div class=c-form><h2>Nachricht erfassen</h2><form action=#><p class="c-form--item c-form-field--text"><label for=hermes-author>Wähle dein Anzeigenamen *</label>
<input id=hermes-author name=hermes-author type=text required></p><p class="c-form--item c-form-field--text"><label for=hermes-send>Deine Nachricht *</label>
<input id=hermes-send name=hermes-send type=text required></p></form></div><script>const messageHistory=[];function randomFromTo(a,b){return Math.floor(Math.random()*(b-a+1))+a}function randomElement(a){const b=Math.floor(Math.random()*a.length);return a[b]}function updateUi(){const a=document.getElementById("hermes-history");a.innerHTML="";for({subType,isMyMessage,author,text}of messageHistory){const b=document.createElement("li");b.classList.add("hermes-message-type-"+subType),isMyMessage&&b.classList.add("hermes-my-message");const d=document.createElement("p");d.textContent=author+": ",b.appendChild(d);const c=document.createElement("p");subType==="connected"?c.textContent="Live Chat wurde gestartet.":subType==="disconnected"?c.textContent="Live Chat wurde beendet.":c.textContent=text,b.appendChild(c),a.appendChild(b)}}function onMessage(b){const a=JSON.parse(b.data);if(a.type==="text"){const b=a.author==="Hermes";messageHistory.push({...a,isMyMessage:b,subType:a.text.includes("Connected")?"connected":a.text.includes("Disconnected")?"disconnected":"message",author:b?document.getElementById("hermes-author").value:a.author,text:b?a.text.match(/: (.+)/)[1]:a.text}),updateUi()}}function onError(a){console.error(JSON.stringify(a))}function wsCreate(b){const a=new WebSocket(b);return a.addEventListener("message",onMessage),a.addEventListener("error",onError),a}function wsWaitForOpen(a){return new Promise(b=>a.addEventListener("open",b))}function wsSend(a,b){const c=JSON.stringify(b);a.send(c)}async function main(){const a=wsCreate("wss://tartaros.gildedernacht.ch/ws"),d="274123519502319617",e="849204844672974869";await wsWaitForOpen(a),wsSend(a,{type:"ping"});const c=document.getElementById("hermes-author"),f=['Aphrodite','Apollo','Ares','Athena','Cronos','Demeter','Dionysus','Gaea','Hades','Hephaestus','Hera','Hermes','Hestia','Iris','Nyx','Poseidon','Prometheus','Selene','Tyche','Zeus'];c.value=randomElement(f)+randomFromTo(10,99);const b=document.getElementById("hermes-send");b.value="",b.focus(),b.addEventListener("keypress",b=>{b.key==="Enter"&&(b.preventDefault(),nodeInput=document.getElementById("hermes-send"),wsSend(a,{type:"text",channelid:e,author:c.value,guildid:d,text:nodeInput.value}),nodeInput.value="")})}window.addEventListener("load",main)</script></main><footer><section class=p-contact><div class=o-outer-container><div class=p-social><div class=p-social-logo><a href=https://discord.gg/G7mkTTB><img src=/images/Discord-Logo+Wordmark-White.svg alt=Discord></a></div></div></div></section></footer></body></html>