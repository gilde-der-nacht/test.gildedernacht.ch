import{c as g,a as e,F as S,b as w,M as h,S as a,g as b,t as q,i as B}from"./web.DT41N3ZK.js";import{e as G,I as M,T as N,B as y,H as c,F as U}from"./utils.D3LOI0pi.js";var j=q("<br>"),V=q("<p>");const H=G("/forms");function v(t){const l=Object.keys(t).map(s=>[s,[]]);return Object.fromEntries(l)}function x(t){const l=Object.keys(t).map(s=>[s,""]);return Object.fromEntries(l)}function L(t){const d=Object.keys(t.elements),[l,s]=g(x(t.elements)),[D,E]=g(!1),[$,o]=g(!1);function I(){o(!1),s(()=>x(t.elements)),E(!0)}function T(r){E(!1),o(!0),console.error(r)}const[m,f]=g(v(t.elements));function F(r){return n=>{o(!1),f(()=>v(t.elements)),s(u=>({...u,[r]:n}))}}function _(r){f(()=>v(t.elements));const n=t.language==="en";return Object.entries(l()).forEach(([u,i])=>{if(t.elements[u].required===!0&&i.trim().length===0){const k=n?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";f(O=>({...O,[u]:[...O[u],k]}))}}),Object.values(m()).flat().length===0}return[e(U,{actionUrl:H,isValid:_,onSuccess:I,onError:T,get children(){return[e(S,{each:d,children:r=>{const n=t.elements[r];return[e(w,{get children(){return[e(h,{get when(){return n.type==="text"||n.type==="tel"||n.type==="date"||n.type==="email"},get children(){return e(M,{get type(){return n.type},get label(){return n.label},name:`private-${r}`,get required(){return n.required??!1},get value(){return l()[r]},get onValueUpdate(){return F(r)}})}}),e(h,{get when(){return n.type==="textarea"},get children(){return e(N,{get label(){return n.label},name:`private-${r}`,get value(){return l()[r]},get required(){return n.required??!1},get onValueUpdate(){return F(r)}})}})]}}),e(a,{get when(){return m()[r].length>0},get children(){return e(y,{type:"danger",get children(){return e(S,{get each(){return m()[r]},children:u=>(()=>{var i=b(V);return B(i,u),i})()})}})}})]}}),e(a,{get when(){return t.language},children:r=>e(c,{name:"language",get value(){return r()}})}),e(a,{get when(){return t.category},children:r=>e(c,{name:"category",get value(){return r()}})}),e(a,{get when(){return t.referer},children:r=>e(c,{name:"referer",get value(){return r().href}})}),e(a,{get when(){return t.redirectOnSuccess},children:r=>e(c,{name:"redirect-on-success",get value(){return r().href}})}),e(a,{get when(){return t.redirectOnFailure},children:r=>e(c,{name:"redirect-on-failure",get value(){return r().href}})}),e(a,{get when(){return t.redirectOnSpam},children:r=>e(c,{name:"redirect-on-spam",get value(){return r().href}})})]}}),e(a,{get when(){return $()},get children(){return[b(j),e(y,{type:"danger",get children(){return e(w,{fallback:"Leider konnten wir die Nachricht nicht absenden. Bitte versuche es erneut.",get children(){return e(h,{get when(){return t.language==="en"},children:"There was a problem sending your message. Please try again."})}})}})]}}),e(a,{get when(){return D()},get children(){return[b(j),e(y,{type:"success",get children(){return e(w,{fallback:"Nachricht wurde erfolgreich gesendet.",get children(){return e(h,{get when(){return t.language==="en"},children:"Message successfully sent."})}})}})]}})]}export{L as GenericFormImpl};
