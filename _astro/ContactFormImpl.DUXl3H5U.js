import{d as A,g as b,i as _,c as w,s as S,a as U,b as p,r as T,t as E,m as N,o as J,e as F,f as r,u as G,S as y,h as C,F as V,j as I,M as W}from"./web.BfmmpNoX.js";var K=E("<button>");function Q(t){return(()=>{var e=b(K);return e.$$click=()=>t.onClick?.(),_(e,()=>t.label),w(i=>{var h=t.type??"button",l=`button-${t.kind??(t.disabled?"gray":"accent")}`,u=t.disabled===!0;return h!==i.e&&S(e,"type",i.e=h),l!==i.t&&U(e,i.t=l),u!==i.a&&p(e,"disabled",i.a=u),i},{e:void 0,t:void 0,a:void 0}),T(),e})()}A(["click"]);var X=E("<form method=post><!$><!/><!$><!/>");function Y(t){const e=N({language:"de",submitLabel:t.language==="en"?"Submit":"Absenden"},t);let i;J(()=>{i.setAttribute("novalidate",""),[...i.querySelectorAll('input[name^="redirect"][type="hidden"]')].forEach(u=>u.remove())});async function h(l){const{target:u}=l;if(u!==null&&u instanceof HTMLFormElement){l.preventDefault();const a=new FormData(u);if(!e.isValid(a))return;try{const n=await fetch(e.actionUrl,{method:"post",body:a});n.ok?e.onSuccess():e.onError(await n.text())}catch(n){e.onError(n)}}}return(()=>{var l=b(X),u=l.firstChild,[a,n]=F(u.nextSibling),c=a.nextSibling,[d,m]=F(c.nextSibling),v=i;return typeof v=="function"?G(v,l):i=l,l.addEventListener("submit",h),_(l,()=>e.children,a,n),_(l,r(Q,{type:"submit",get label(){return e.submitLabel}}),d,m),w(()=>S(l,"action",e.actionUrl.href)),l})()}var j=E("<label><!$><!/><input>");function B(t){const e=N({type:"text",required:!0,isHoneypot:!1},t);return(()=>{var i=b(j),h=i.firstChild,[l,u]=F(h.nextSibling),a=l.nextSibling;return _(i,()=>e.label,l,u),a.$$input=n=>e.onValueUpdate(n.target.value),w(n=>{var c=e.isHoneypot?"honey":"",d=e.type,m=e.name,v=e.label,$=e.required;return c!==n.e&&U(i,n.e=c),d!==n.t&&S(a,"type",n.t=d),m!==n.a&&S(a,"name",n.a=m),v!==n.o&&S(a,"placeholder",n.o=v),$!==n.i&&p(a,"required",n.i=$),n},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),w(()=>p(a,"value",e.value)),T(),i})()}function Z(t){const e=N({type:"text",required:!0,isHoneypot:!1},t);return(()=>{var i=b(j),h=i.firstChild,[l,u]=F(h.nextSibling),a=l.nextSibling;_(i,()=>e.label,l,u);var n=e.ref;return typeof n=="function"?G(n,a):e.ref=a,a.$$input=c=>e.onValueUpdate(c.target.value),w(c=>{var d=e.isHoneypot?"honey":"",m=e.type,v=e.name,$=e.label,D=e.required;return d!==c.e&&U(i,c.e=d),m!==c.t&&S(a,"type",c.t=m),v!==c.a&&S(a,"name",c.a=v),$!==c.o&&S(a,"placeholder",c.o=$),D!==c.i&&p(a,"required",c.i=D),c},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),w(()=>p(a,"value",e.value)),T(),i})()}A(["input"]);var ee=E("<label><!$><!/><textarea>");function te(t){const e=N({required:!0},t);return(()=>{var i=b(ee),h=i.firstChild,[l,u]=F(h.nextSibling),a=l.nextSibling;return _(i,()=>e.label,l,u),a.$$input=n=>e.onValueUpdate(n.target.value),w(n=>{var c=e.name,d=e.label,m=e.required;return c!==n.e&&S(a,"name",n.e=c),d!==n.t&&S(a,"placeholder",n.t=d),m!==n.a&&p(a,"required",n.a=m),n},{e:void 0,t:void 0,a:void 0}),w(()=>p(a,"value",e.value)),T(),i})()}A(["input"]);var ne=E("<input type=hidden>");function L(t){return(()=>{var e=b(ne);return w(()=>S(e,"name",t.name)),w(()=>p(e,"value",t.value)),e})()}var re=E('<a><i class="fa-duotone fa-arrow-turn-down-right event-icon"></i> <!$><!/>'),ae=E("<div><span></span><!$><!/>");function q(t){return(()=>{var e=b(ae),i=e.firstChild,h=i.nextSibling,[l,u]=F(h.nextSibling);return _(i,()=>t.children),_(e,r(y,{get when(){return t.link!==void 0&&t.linkLabel!==void 0},get children(){var a=b(re),n=a.firstChild,c=n.nextSibling,d=c.nextSibling,[m,v]=F(d.nextSibling);return _(a,()=>t.linkLabel,m,v),w($=>{var D=t.link??"",g=`button button-small button-${t.type??"gray"}`;return D!==$.e&&S(a,"href",$.e=D),g!==$.t&&U(a,$.t=g),$},{e:void 0,t:void 0}),a}}),l,u),w(()=>U(e,`box-${t.type??"gray"}`)),e})()}var O=E("<br>"),H=E("<p>");function R(){return{name:"",email:"",captcha:"",message:""}}function P(){return{name:[],email:[],captcha:[],message:[]}}const ie=new URL("https://elysium.gildedernacht.ch/forms");function ue(t){const e="Name",i=t.language!=="en"?"E-Mail":"Email",h=t.language!=="en"?"Bitte leer lassen":"leave this field empty",l=t.language!=="en"?"Nachricht":"Message",[u,a]=C(R());let n;const[c,d]=C(!1),[m,v]=C(!1);function $(){v(!1),a(R()),d(!0)}function D(s){d(!1),v(!0),console.error(s)}const[g,k]=C(P());function M(s){return o=>{v(!1),k(P()),a(x=>({...x,[s]:o}))}}function z(s){k(P());const o=t.language==="en";if(u().name.trim().length===0){const x=o?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";k(f=>({...f,name:[...f.name,x]}))}if(u().email.trim().length===0){const x=o?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";k(f=>({...f,email:[...f.email,x]}))}if(n.validity.typeMismatch){const x=o?"The input does not seem to be a valid email address.":"Die Eingabe scheint keine gÃ¼ltige E-Mail-Adresse zu sein.";k(f=>({...f,email:[...f.email,x]}))}if(u().captcha.trim().length>0){const x=o?"This is field must be empty.":"Dieses Feld muss leer bleiben.";k(f=>({...f,captcha:[...f.captcha,x]}))}if(u().message.trim().length===0){const x=o?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";k(f=>({...f,message:[...f.message,x]}))}return g().name.length===0&&g().email.length===0&&g().captcha.length===0&&g().message.length===0}return[r(Y,{actionUrl:ie,get language(){return t.language??"de"},isValid:z,onSuccess:$,onError:D,get children(){return[r(B,{label:e,name:"private-name",get value(){return u().name},get onValueUpdate(){return M("name")}}),r(y,{get when(){return g().name.length>0},get children(){return r(q,{type:"danger",get children(){return r(V,{get each(){return g().name},children:s=>(()=>{var o=b(H);return _(o,s),o})()})}})}}),r(Z,{label:i,name:"private-email",type:"email",get value(){return u().email},get onValueUpdate(){return M("email")},ref(s){var o=n;typeof o=="function"?o(s):n=s}}),r(y,{get when(){return g().email.length>0},get children(){return r(q,{type:"danger",get children(){return r(V,{get each(){return g().email},children:s=>(()=>{var o=b(H);return _(o,s),o})()})}})}}),r(B,{label:h,name:"private-captcha",type:"email",required:!1,isHoneypot:!0,get value(){return u().captcha},get onValueUpdate(){return M("captcha")}}),r(y,{get when(){return g().captcha.length>0},get children(){return r(q,{type:"danger",get children(){return r(V,{get each(){return g().captcha},children:s=>(()=>{var o=b(H);return _(o,s),o})()})}})}}),r(te,{label:l,name:"private-message",get value(){return u().message},get onValueUpdate(){return M("message")}}),r(y,{get when(){return g().message.length>0},get children(){return r(q,{type:"danger",get children(){return r(V,{get each(){return g().message},children:s=>(()=>{var o=b(H);return _(o,s),o})()})}})}}),r(y,{get when(){return t.language},children:s=>r(L,{name:"language",get value(){return s()}})}),r(y,{get when(){return t.category},children:s=>r(L,{name:"category",get value(){return s()}})}),r(y,{get when(){return t.referer},children:s=>r(L,{name:"referer",get value(){return s().href}})}),r(y,{get when(){return t.redirectOnSuccess},children:s=>r(L,{name:"redirect-on-success",get value(){return s().href}})}),r(y,{get when(){return t.redirectOnFailure},children:s=>r(L,{name:"redirect-on-failure",get value(){return s().href}})}),r(y,{get when(){return t.redirectOnSpam},children:s=>r(L,{name:"redirect-on-spam",get value(){return s().href}})})]}}),r(y,{get when(){return m()},get children(){return[b(O),r(q,{type:"danger",get children(){return r(I,{fallback:"Leider konnten wir die Nachricht nicht absenden. Bitte versuche es erneut.",get children(){return r(W,{get when(){return t.language==="en"},children:"There was a problem sending your message. Please try again."})}})}})]}}),r(y,{get when(){return c()},get children(){return[b(O),r(q,{type:"success",get children(){return r(I,{fallback:"Nachricht wurde erfolgreich gesendet.",get children(){return r(W,{get when(){return t.language==="en"},children:"Message successfully sent."})}})}})]}})]}export{ue as ContactFormImpl};
